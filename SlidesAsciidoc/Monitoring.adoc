:revealjs_theme: moon
= Splunk in a corporate environment

== Base Question: What's happening?

image::slidesimages/TravoltaWhatsHappening.gif[]

=== Solution One

Writing applications without errors.


(Narrator: Will never happen)

=== Solution Two

Pay others to write applications without errors.

Nice try. But Nope.

(Narrator: No one will take the job and we don't have the money for this.)

=== Solution Three

Let someone check the app all around the clock.

Again: nice try. But people tend to need sleep, go on vacations, have bad days, get sick or even quit their job.

image::slidesimages/WatchingYouLol.jpeg[]

=== Solution Four

Automatic monitoring in a defined way.

image::slidesimages/ThisIsTheWay.jpeg[]

== What's the goal?

image::slidesimages/WhatIsThisGoal.jpeg[]

=== Confidence

=== Confidence

Our partners can trust us that we know what is happending.

=== Transparency

It is public how we get to decisions and the why we do stuff. Or why not.

=== Visibility

We do not hide the status of the company and share it with all who are interested in an easy accessible way.

=== Alerting

We inform the right people in the right time in the case of an issue. With the right informations.

=== Simply

Know about an issue before the customer is phoning us.

== Or in other words

"With a good monitoring strategy in place, youâ€™ll get better transparency and visibility into your operations with a well-timed alert system."
-- Andreas Prins

=== To transform this...

image::slidesimages/TechSupport.jpeg[]

=== ... over this ...

image::slidesimages/ImOnTheCase.jpeg[]

=== ... to this

image::slidesimages/IThinkWeFoundYourProblem.jpeg[]




== "We need monitoring!"

image::slidesimages/OneDoesNotSimplySayMonuitoring.jpeg[]

=== Infrastructure

What is happening on and with the hardware.

=== Infrastructure: Solutions

* Zappix
* Grafana / Prometheus
* DynaTrace

=== application

- What is happening inside the application.
- What is the application doing?
- Why is the application doing stuff?

=== application: Solutions

* Splunk
* Grafana / Prometheus
* DynaTrace

=== business

- Short: Are the brokers and the company happy?

=== business: Solutions

* DynaTrace

=== Security

- Do we have security issues?
- Where are these issues?

=== Security: Solutions

- Sonar
- Tenable.IO

=== Overview

[plantuml, mindmap, svg]
....
@startmindmap
* Monitoring
** Infrastructure
*** Zabbix
*** Grafana
*** Prometheus
** Application
*** Splunk
*** DynaTrace
** Business
*** DynaTrace
** Security
*** Sonar
*** Tenable.IO
@endmindmap
....

=== Spoiler

image::slidesimages/SpoilerAlert.jpeg[]

=== Spoiler

- Future of DynaTrace is undecided.
- Expensive and only partly used.
- Currently in decision of K2 if it will used further.
- Possible decomissioning mid-year.

== Today's focus

Application monitoring with Splunk with samples from K2, SIP and others.

== Splunk

"Collects and analyzes high volumes of machine generated data."

=== Why?

- data to analyze is growing exponentially
- more services, more log files
- bigger log files
- systems get too complex to be overviewed by just one person

=== Why?

- Policy Center alone runs in 7 servers.
- The amount of log entries alone forbids to search manually in all files in a case of emergency to fast identify the source.
- Get the data always in a structured way.

=== Why?

SIP now consists of 40 services which write all their own logs.

Happy searching.


=== Why?

Already used and integration into the group since several years.

=== Why?

- A well known tool on the market, no own implementation.
- Changes are getting higher that new colleagues already know it.

=== Why?

- Searches are done with a query language.
- Those who can write SQL, can write Splunk queries.

=== Why?

image::slidesimages/TrustNoOne.jpeg[]

=== Why?

Humans are:

* Prone to errors
* Not reliable
* Depending on daily form

=== Why?

Humans easily lower their guard:

* "I know what I do"
* "I have done this since years."
* "Nothing happened the last times."
* "I do not make mistakes."

=== Why?

Cyber attack in 2022 want's to have a word with you.

image::slidesimages/InternetWantsToHaveAWordWithYou.jpeg[]

=== Solution

* Take out the human factor regarding information collection.
* Agree on a common way what and how to log.
* Standardize the representation in a fast and easy human readable form.

== Usage in the group
- Maintained from BITS
- Available for all who whish to use it and want to pay the data usage.
- In DE introduced for GW and SIP in 2019.

== What is possible?

Wrong question.

=== What is possible?

video::slidesimages/WhatDoYouWant.mp4[opts="autoplay,controls", options=autoplay]

=== What do you need to know?

=== What do you need to know?

Without the answer what you need to know, you will only have data storage wasted.

=== What do you need to know?

What are the metrics you need to make reliable, informed decisions?


=== Simple listing of log entries

=== Draw a graph regarding incidents

=== Send alarms

* Email
* Teams

== How to use it

* Let BITS / HCL the splunk log ingestor on your servers
* Define a permission group for all your servers
* Order the permission via DIM for all who need to see your logs (LAS-compatible)

== Let's go

(samples for K2 Guidewire)

=== Search globally for errors.

[source,splunk]
----
index=js_gwde_p error
----

INSERT IMAGE

=== Search for user upload errors

INSERT QUERY

INSERT IMAGE

=== Group Timeslot

=== Trend

=== Save your query for later reusage

=== Organise several querys in a dashboard

== Just one more thing

image::slidesimages/JustOneMoreThing.jpeg[]

== Alerting!

video::slidesimages/DangerWillRobinson.mp4[opts="autoplay,controls", options=autoplay]


[.questions]
== !